{"ast":null,"code":"var _jsxFileName = \"/Users/binl/Documents/TimeTable/src/components/TimeTable/TimetableBody.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport dayjs from 'dayjs';\nimport ScheduleItem from './ScheduleItem';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Body = styled.div`\n    display: flex;\n    width: 994px;\n    justify-content: space-between;\n    margin-top: 20px;\n`;\n_c = Body;\nconst TimetableBody = ({\n  classInfo,\n  onClickDeleteModal,\n  onClickAddClassModal\n}) => {\n  _s();\n  const [classList, setClassList] = useState([]);\n\n  // 오전 오후 저녁 분류\n  const categorizeByTime = classList => {\n    const morning = [];\n    const afternoon = [];\n    const evening = [];\n    classList.forEach(({\n      startTime,\n      endTime,\n      id\n    }) => {\n      const start = dayjs(startTime);\n      const hour = start.hour();\n      if (hour < 12) {\n        morning.push({\n          startTime,\n          endTime,\n          id\n        });\n      } else if (hour >= 13 && hour < 19) {\n        afternoon.push({\n          startTime,\n          endTime,\n          id\n        });\n      } else {\n        evening.push({\n          startTime,\n          endTime,\n          id\n        });\n      }\n    });\n    return {\n      morning,\n      afternoon,\n      evening\n    };\n  };\n\n  // 몇교시인지 id값 부여 (시간이 순차적으로 내려온다는 가정하에 그렇지않다면 정렬필요 )\n  const reassignIds = classList => {\n    return classList.map((item, index) => ({\n      ...item,\n      id: index + 1\n    }));\n  };\n  const sortClassListByTime = list => {\n    return list.sort((a, b) => {\n      const timeA = dayjs(a.startTime).valueOf();\n      const timeB = dayjs(b.startTime).valueOf();\n      return timeA - timeB;\n    });\n  };\n\n  // 최상단에 classInfo에서 교실선택시마다 isActive가 true것을 filter\n  useEffect(() => {\n    if (classInfo) {\n      const findClickItem = classInfo.find(item => item.isActive === true);\n      if (findClickItem) {\n        const findClassList = sortClassListByTime(findClickItem.classList);\n        const addIdsList = reassignIds(findClassList);\n        setClassList(addIdsList);\n      }\n    }\n  }, [classInfo]);\n  const categorizedData = categorizeByTime(classList);\n  return /*#__PURE__*/_jsxDEV(Body, {\n    children: categorizedData && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ScheduleItem, {\n        headerText: \"\\uC624\\uC804(~12:00)\",\n        buttonText: \"+\\uC624\\uC804 \\uAD50\\uC2DC \\uCD94\\uAC00\",\n        classList: categorizedData.morning,\n        onClickDelete: onClickDeleteModal,\n        onClickAddClass: () => {\n          onClickAddClassModal('morning');\n        },\n        isDisabled: categorizedData.morning.length > 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(ScheduleItem, {\n        headerText: \"\\uC624\\uD6C4(13:00~)\",\n        buttonText: \"+\\uC624\\uD6C4 \\uAD50\\uC2DC \\uCD94\\uAC00\",\n        classList: categorizedData.afternoon,\n        onClickDelete: onClickDeleteModal,\n        onClickAddClass: () => {\n          onClickAddClassModal('afternoon');\n        },\n        isDisabled: categorizedData.afternoon.length > 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(ScheduleItem, {\n        headerText: \"\\uC800\\uB141(19:00~)\",\n        buttonText: \"+\\uC800\\uB141 \\uAD50\\uC2DC \\uCD94\\uAC00\",\n        classList: categorizedData.evening,\n        onClickDelete: onClickDeleteModal,\n        onClickAddClass: () => {\n          onClickAddClassModal('evening');\n        },\n        isDisabled: categorizedData.evening.length > 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n};\n_s(TimetableBody, \"tgmjI+hW6R5dilDO68AjeNM4cm4=\");\n_c2 = TimetableBody;\nexport default TimetableBody;\nvar _c, _c2;\n$RefreshReg$(_c, \"Body\");\n$RefreshReg$(_c2, \"TimetableBody\");","map":{"version":3,"names":["React","useEffect","useState","styled","dayjs","ScheduleItem","jsxDEV","_jsxDEV","Fragment","_Fragment","Body","div","_c","TimetableBody","classInfo","onClickDeleteModal","onClickAddClassModal","_s","classList","setClassList","categorizeByTime","morning","afternoon","evening","forEach","startTime","endTime","id","start","hour","push","reassignIds","map","item","index","sortClassListByTime","list","sort","a","b","timeA","valueOf","timeB","findClickItem","find","isActive","findClassList","addIdsList","categorizedData","children","headerText","buttonText","onClickDelete","onClickAddClass","isDisabled","length","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["/Users/binl/Documents/TimeTable/src/components/TimeTable/TimetableBody.tsx"],"sourcesContent":["import React, { Dispatch, SetStateAction, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { ClassData, ClassTime, ClassType } from '../../pages/TimetablePage';\nimport dayjs from 'dayjs';\nimport ScheduleItem from './ScheduleItem';\nimport _ from 'lodash';\n\nconst Body = styled.div`\n    display: flex;\n    width: 994px;\n    justify-content: space-between;\n    margin-top: 20px;\n`;\n\ntype CategorizedClassData = {\n    morning: ClassTime[];\n    afternoon: ClassTime[];\n    evening: ClassTime[];\n};\n\ntype Props = {\n    classInfo: ClassData[];\n    onClickDeleteModal: (startTime: string) => void;\n    onClickAddClassModal: (classType: ClassType) => void;\n};\n\nconst TimetableBody = ({ classInfo, onClickDeleteModal, onClickAddClassModal }: Props) => {\n    const [classList, setClassList] = useState<ClassTime[]>([]);\n\n    // 오전 오후 저녁 분류\n    const categorizeByTime = (classList: ClassTime[]): CategorizedClassData => {\n        const morning: ClassTime[] = [];\n        const afternoon: ClassTime[] = [];\n        const evening: ClassTime[] = [];\n\n        classList.forEach(({ startTime, endTime, id }) => {\n            const start = dayjs(startTime);\n            const hour = start.hour();\n\n            if (hour < 12) {\n                morning.push({ startTime, endTime, id });\n            } else if (hour >= 13 && hour < 19) {\n                afternoon.push({ startTime, endTime, id });\n            } else {\n                evening.push({ startTime, endTime, id });\n            }\n        });\n\n        return { morning, afternoon, evening };\n    };\n\n    // 몇교시인지 id값 부여 (시간이 순차적으로 내려온다는 가정하에 그렇지않다면 정렬필요 )\n    const reassignIds = (classList: ClassTime[]): ClassTime[] => {\n        return classList.map((item, index) => ({\n            ...item,\n            id: index + 1,\n        }));\n    };\n\n    const sortClassListByTime = (list: ClassTime[]): ClassTime[] => {\n        return list.sort((a, b) => {\n            const timeA = dayjs(a.startTime).valueOf();\n            const timeB = dayjs(b.startTime).valueOf();\n            return timeA - timeB;\n        });\n    };\n\n    // 최상단에 classInfo에서 교실선택시마다 isActive가 true것을 filter\n    useEffect(() => {\n        if (classInfo) {\n            const findClickItem = classInfo.find((item) => item.isActive === true);\n            if (findClickItem) {\n                const findClassList: ClassTime[] = sortClassListByTime(findClickItem.classList);\n                const addIdsList = reassignIds(findClassList);\n                setClassList(addIdsList);\n            }\n        }\n    }, [classInfo]);\n\n    const categorizedData: CategorizedClassData = categorizeByTime(classList);\n\n    return (\n        <Body>\n            {categorizedData && (\n                <>\n                    <ScheduleItem\n                        headerText=\"오전(~12:00)\"\n                        buttonText=\"+오전 교시 추가\"\n                        classList={categorizedData.morning}\n                        onClickDelete={onClickDeleteModal}\n                        onClickAddClass={() => {\n                            onClickAddClassModal('morning');\n                        }}\n                        isDisabled={categorizedData.morning.length > 4}\n                    />\n\n                    <ScheduleItem\n                        headerText=\"오후(13:00~)\"\n                        buttonText=\"+오후 교시 추가\"\n                        classList={categorizedData.afternoon}\n                        onClickDelete={onClickDeleteModal}\n                        onClickAddClass={() => {\n                            onClickAddClassModal('afternoon');\n                        }}\n                        isDisabled={categorizedData.afternoon.length > 4}\n                    />\n\n                    <ScheduleItem\n                        headerText=\"저녁(19:00~)\"\n                        buttonText=\"+저녁 교시 추가\"\n                        classList={categorizedData.evening}\n                        onClickDelete={onClickDeleteModal}\n                        onClickAddClass={() => {\n                            onClickAddClassModal('evening');\n                        }}\n                        isDisabled={categorizedData.evening.length > 4}\n                    />\n                </>\n            )}\n        </Body>\n    );\n};\n\nexport default TimetableBody;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}